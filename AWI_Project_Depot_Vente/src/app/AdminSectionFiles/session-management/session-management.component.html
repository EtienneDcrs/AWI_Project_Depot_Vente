<app-admin-navigation></app-admin-navigation>

<div class="session-management">
    <h2>Gestion des Sessions</h2>

    <!-- Formulaire pour ajouter/modifier une session -->
    <form [formGroup]="sessionForm" (ngSubmit)="onSubmit()">
        <div>
            <label for="id">ID</label>
            <input id="id" formControlName="id" type="text" />
        </div>
        <div>
            <label for="startSession">Début</label>
            <input id="startSession" formControlName="startSession" type="datetime-local" />
        </div>
        <div>
            <label for="endSession">Fin</label>
            <input id="endSession" formControlName="endSession" type="datetime-local" />
        </div>
        <div>
            <label for="endDepositGame">Fin des dépôts</label>
            <input id="endDepositGame" formControlName="endDepositGame" type="datetime-local" />
        </div>
        <div>
            <label for="commissionType">Type de commission</label>
            <input id="commissionType" formControlName="commissionType" type="text" />
        </div>
        <div>
            <label for="commission">Commission</label>
            <input id="commission" formControlName="commission" type="number" />
        </div>
        <div>
            <label for="depositFeeType">Type de dépôt</label>
            <input id="depositFeeType" formControlName="depositFeeType" type="text" />
        </div>
        <div>
            <label for="depositFee">Frais de dépôt</label>
            <input id="depositFee" formControlName="depositFee" type="number" />
        </div>
        <button type="submit">{{ editMode ? 'Modifier' : 'Ajouter' }}</button>
    </form>

    <!-- Liste des sessions -->
    <div class="session-list">
        <h3>Sessions</h3>
        <ul>
            @for (session of sessions; track session.id) {
            <li>
                {{ session.id }} - {{ session.startSession | date }}
                <button (click)="editSession(session)">Modifier</button>
                <button (click)="deleteSession(session.id)">Supprimer</button>
            </li>
            }
        </ul>
    </div>
</div>