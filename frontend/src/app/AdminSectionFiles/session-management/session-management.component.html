<app-admin-navigation></app-admin-navigation>

<div class="session-management">
    <h2>Gestion des Sessions</h2>

    <!-- Formulaire pour ajouter/modifier une session -->
    <form [formGroup]="sessionForm" (ngSubmit)="onSubmit()">
        <div>
            <label for="id">ID</label>
            <input id="id" formControlName="id" type="text" />
        </div>
        <div>
            <label for="startDate">Début</label>
            <input id="startDate" formControlName="startDate" type="datetime-local" />
        </div>
        <div>
            <label for="endDate">Fin</label>
            <input id="endDate" formControlName="endDate" type="datetime-local" />
        </div>
        <div>
            <label for="endDepositGame">Fin des dépôts</label>
            <input id="endDepositGame" formControlName="endDepositGame" type="datetime-local" />
        </div>
        <div>
            <label>Commission Type:</label>
            <input type="radio" id="commissionTypeFixed" formControlName="commissionType" value="fixed">
            <label for="commissionTypeFixed">Fixed</label>
            <input type="radio" id="commissionTypeRelative" formControlName="commissionType" value="relative">
            <label for="commissionTypeRelative">Relative</label>
        </div>
        <div>
            <label for="commission">Commission</label>
            <input id="commission" formControlName="commission" type="number" />
        </div>
        <div>
            <label>Deposit Fee Type:</label>
            <input type="radio" id="depositFeeTypeFixed" formControlName="depositFeeType" value="fixed">
            <label for="depositFeeTypeFixed">Fixed</label>
            <input type="radio" id="depositFeeTypeRelative" formControlName="depositFeeType" value="relative">
            <label for="depositFeeTypeRelative">Relative</label>
        </div>
        <div>
            <label for="depositFee">Frais de dépôt</label>
            <input id="depositFee" formControlName="depositFee" type="number" />
        </div>
        <button type="submit">{{ editMode ? 'Modifier' : 'Ajouter' }}</button>
    </form>

    <!-- Liste des sessions -->
    <div class="session-list">
        <h3>Sessions</h3>
        <ul>
            @for (session of sessions; track session.id) {
            <li>
                {{ session.id }} - {{ session.startDate | date }}
                <button (click)="editSession(session)">Modifier</button>
                <button (click)="deleteSession(session.id)">Supprimer</button>
            </li>
            }
        </ul>
    </div>
</div>